import{a as de,g as pe,r as g,u as ie,w as Be,x as ke,b as Oe,y as Ue,z as Ee,j as n,s as $,e as X,h as re,A as je,m as U,D as Te,d as O,P as Ge,E as qe,H as Xe,I as Ye,i as Re,c as $e,J as Je,f as ze,K as Ke,L as Pe,N as _e,k as Qe,C as Fe,T as q,l as _,q as Ze,O as et}from"./index-Bg0zUm1w.js";function tt(e){return de("MuiCollapse",e)}pe("MuiCollapse",["root","horizontal","vertical","entered","hidden","wrapper","wrapperInner"]);const ot=e=>{const{orientation:t,classes:o}=e,r={root:["root",`${t}`],entered:["entered"],hidden:["hidden"],wrapper:["wrapper",`${t}`],wrapperInner:["wrapperInner",`${t}`]};return re(r,tt,o)},nt=$("div",{name:"MuiCollapse",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.orientation],o.state==="entered"&&t.entered,o.state==="exited"&&!o.in&&o.collapsedSize==="0px"&&t.hidden]}})(U(({theme:e})=>({height:0,overflow:"hidden",transition:e.transitions.create("height"),variants:[{props:{orientation:"horizontal"},style:{height:"auto",width:0,transition:e.transitions.create("width")}},{props:{state:"entered"},style:{height:"auto",overflow:"visible"}},{props:{state:"entered",orientation:"horizontal"},style:{width:"auto"}},{props:({ownerState:t})=>t.state==="exited"&&!t.in&&t.collapsedSize==="0px",style:{visibility:"hidden"}}]}))),it=$("div",{name:"MuiCollapse",slot:"Wrapper"})({display:"flex",width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),rt=$("div",{name:"MuiCollapse",slot:"WrapperInner"})({width:"100%",variants:[{props:{orientation:"horizontal"},style:{width:"auto",height:"100%"}}]}),Se=g.forwardRef(function(t,o){const r=ie({props:t,name:"MuiCollapse"}),{addEndListener:p,children:h,className:c,collapsedSize:a="0px",component:f,easing:w,in:u,onEnter:i,onEntered:d,onEntering:S,onExit:R,onExited:z,onExiting:A,orientation:m="vertical",style:j,timeout:b=Be.standard,TransitionComponent:y=ke,...D}=r,B={...r,orientation:m,collapsedSize:a},P=ot(B),F=Oe(),k=Ue(),x=g.useRef(null),M=g.useRef(),V=typeof a=="number"?`${a}px`:a,H=m==="horizontal",L=H?"width":"height",G=g.useRef(null),E=Ee(o,G),T=s=>N=>{if(s){const W=G.current;N===void 0?s(W):s(W,N)}},I=()=>x.current?x.current[H?"clientWidth":"clientHeight"]:0,J=T((s,N)=>{x.current&&H&&(x.current.style.position="absolute"),s.style[L]=V,i&&i(s,N)}),fe=T((s,N)=>{const W=I();x.current&&H&&(x.current.style.position="");const{duration:Q,easing:ee}=je({style:j,timeout:b,easing:w},{mode:"enter"});if(b==="auto"){const ae=F.transitions.getAutoHeightDuration(W);s.style.transitionDuration=`${ae}ms`,M.current=ae}else s.style.transitionDuration=typeof Q=="string"?Q:`${Q}ms`;s.style[L]=`${W}px`,s.style.transitionTimingFunction=ee,S&&S(s,N)}),se=T((s,N)=>{s.style[L]="auto",d&&d(s,N)}),ue=T(s=>{s.style[L]=`${I()}px`,R&&R(s)}),me=T(z),xe=T(s=>{const N=I(),{duration:W,easing:Q}=je({style:j,timeout:b,easing:w},{mode:"exit"});if(b==="auto"){const ee=F.transitions.getAutoHeightDuration(N);s.style.transitionDuration=`${ee}ms`,M.current=ee}else s.style.transitionDuration=typeof W=="string"?W:`${W}ms`;s.style[L]=V,s.style.transitionTimingFunction=Q,A&&A(s)}),ve=s=>{b==="auto"&&k.start(M.current||0,s),p&&p(G.current,s)};return n.jsx(y,{in:u,onEnter:J,onEntered:se,onEntering:fe,onExit:ue,onExited:me,onExiting:xe,addEndListener:ve,nodeRef:G,timeout:b==="auto"?null:b,...D,children:(s,{ownerState:N,...W})=>n.jsx(nt,{as:f,className:X(P.root,c,{entered:P.entered,exited:!u&&V==="0px"&&P.hidden}[s]),style:{[H?"minWidth":"minHeight"]:V,...j},ref:E,ownerState:{...B,state:s},...W,children:n.jsx(it,{ownerState:{...B,state:s},className:P.wrapper,ref:x,children:n.jsx(rt,{ownerState:{...B,state:s},className:P.wrapperInner,children:h})})})})});Se&&(Se.muiSupportAuto=!0);const Ve=g.createContext({});function st(e){return de("MuiAccordion",e)}const ge=pe("MuiAccordion",["root","heading","rounded","expanded","disabled","gutters","region"]),at=e=>{const{classes:t,square:o,expanded:r,disabled:p,disableGutters:h}=e;return re({root:["root",!o&&"rounded",r&&"expanded",p&&"disabled",!h&&"gutters"],heading:["heading"],region:["region"]},st,t)},lt=$(Ge,{name:"MuiAccordion",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${ge.region}`]:t.region},t.root,!o.square&&t.rounded,!o.disableGutters&&t.gutters]}})(U(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{position:"relative",transition:e.transitions.create(["margin"],t),overflowAnchor:"none","&::before":{position:"absolute",left:0,top:-1,right:0,height:1,content:'""',opacity:1,backgroundColor:(e.vars||e).palette.divider,transition:e.transitions.create(["opacity","background-color"],t)},"&:first-of-type":{"&::before":{display:"none"}},[`&.${ge.expanded}`]:{"&::before":{opacity:0},"&:first-of-type":{marginTop:0},"&:last-of-type":{marginBottom:0},"& + &":{"&::before":{display:"none"}}},[`&.${ge.disabled}`]:{backgroundColor:(e.vars||e).palette.action.disabledBackground}}}),U(({theme:e})=>({variants:[{props:t=>!t.square,style:{borderRadius:0,"&:first-of-type":{borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius},"&:last-of-type":{borderBottomLeftRadius:(e.vars||e).shape.borderRadius,borderBottomRightRadius:(e.vars||e).shape.borderRadius,"@supports (-ms-ime-align: auto)":{borderBottomLeftRadius:0,borderBottomRightRadius:0}}}},{props:t=>!t.disableGutters,style:{[`&.${ge.expanded}`]:{margin:"16px 0"}}}]}))),ct=$("h3",{name:"MuiAccordion",slot:"Heading"})({all:"unset"}),dt=g.forwardRef(function(t,o){const r=ie({props:t,name:"MuiAccordion"}),{children:p,className:h,defaultExpanded:c=!1,disabled:a=!1,disableGutters:f=!1,expanded:w,onChange:u,square:i=!1,slots:d={},slotProps:S={},TransitionComponent:R,TransitionProps:z,...A}=r,[m,j]=Te({controlled:w,default:c,name:"Accordion",state:"expanded"}),b=g.useCallback(I=>{j(!m),u&&u(I,!m)},[m,u,j]),[y,...D]=g.Children.toArray(p),B=g.useMemo(()=>({expanded:m,disabled:a,disableGutters:f,toggle:b}),[m,a,f,b]),P={...r,square:i,disabled:a,disableGutters:f,expanded:m},F=at(P),k={transition:R,...d},x={transition:z,...S},M={slots:k,slotProps:x},[V,H]=O("root",{elementType:lt,externalForwardedProps:{...M,...A},className:X(F.root,h),shouldForwardComponentProp:!0,ownerState:P,ref:o,additionalProps:{square:i}}),[L,G]=O("heading",{elementType:ct,externalForwardedProps:M,className:F.heading,ownerState:P}),[E,T]=O("transition",{elementType:Se,externalForwardedProps:M,ownerState:P});return n.jsxs(V,{...H,children:[n.jsx(L,{...G,children:n.jsx(Ve.Provider,{value:B,children:y})}),n.jsx(E,{in:m,timeout:"auto",...T,children:n.jsx("div",{"aria-labelledby":y.props.id,id:y.props["aria-controls"],role:"region",className:F.region,children:D})})]})});function pt(e){return de("MuiAccordionDetails",e)}pe("MuiAccordionDetails",["root"]);const ut=e=>{const{classes:t}=e;return re({root:["root"]},pt,t)},ht=$("div",{name:"MuiAccordionDetails",slot:"Root"})(U(({theme:e})=>({padding:e.spacing(1,2,2)}))),gt=g.forwardRef(function(t,o){const r=ie({props:t,name:"MuiAccordionDetails"}),{className:p,...h}=r,c=r,a=ut(c);return n.jsx(ht,{className:X(a.root,p),ref:o,ownerState:c,...h})});function ft(e){return de("MuiAccordionSummary",e)}const ne=pe("MuiAccordionSummary",["root","expanded","focusVisible","disabled","gutters","contentGutters","content","expandIconWrapper"]),mt=e=>{const{classes:t,expanded:o,disabled:r,disableGutters:p}=e;return re({root:["root",o&&"expanded",r&&"disabled",!p&&"gutters"],focusVisible:["focusVisible"],content:["content",o&&"expanded",!p&&"contentGutters"],expandIconWrapper:["expandIconWrapper",o&&"expanded"]},ft,t)},xt=$(qe,{name:"MuiAccordionSummary",slot:"Root"})(U(({theme:e})=>{const t={duration:e.transitions.duration.shortest};return{display:"flex",width:"100%",minHeight:48,padding:e.spacing(0,2),transition:e.transitions.create(["min-height","background-color"],t),[`&.${ne.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${ne.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`&:hover:not(.${ne.disabled})`]:{cursor:"pointer"},variants:[{props:o=>!o.disableGutters,style:{[`&.${ne.expanded}`]:{minHeight:64}}}]}})),vt=$("span",{name:"MuiAccordionSummary",slot:"Content"})(U(({theme:e})=>({display:"flex",textAlign:"start",flexGrow:1,margin:"12px 0",variants:[{props:t=>!t.disableGutters,style:{transition:e.transitions.create(["margin"],{duration:e.transitions.duration.shortest}),[`&.${ne.expanded}`]:{margin:"20px 0"}}}]}))),yt=$("span",{name:"MuiAccordionSummary",slot:"ExpandIconWrapper"})(U(({theme:e})=>({display:"flex",color:(e.vars||e).palette.action.active,transform:"rotate(0deg)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),[`&.${ne.expanded}`]:{transform:"rotate(180deg)"}}))),bt=g.forwardRef(function(t,o){const r=ie({props:t,name:"MuiAccordionSummary"}),{children:p,className:h,expandIcon:c,focusVisibleClassName:a,onClick:f,slots:w,slotProps:u,...i}=r,{disabled:d=!1,disableGutters:S,expanded:R,toggle:z}=g.useContext(Ve),A=x=>{z&&z(x),f&&f(x)},m={...r,expanded:R,disabled:d,disableGutters:S},j=mt(m),b={slots:w,slotProps:u},[y,D]=O("root",{ref:o,shouldForwardComponentProp:!0,className:X(j.root,h),elementType:xt,externalForwardedProps:{...b,...i},ownerState:m,additionalProps:{focusRipple:!1,disableRipple:!0,disabled:d,"aria-expanded":R,focusVisibleClassName:X(j.focusVisible,a)},getSlotProps:x=>({...x,onClick:M=>{var V;(V=x.onClick)==null||V.call(x,M),A(M)}})}),[B,P]=O("content",{className:j.content,elementType:vt,externalForwardedProps:b,ownerState:m}),[F,k]=O("expandIconWrapper",{className:j.expandIconWrapper,elementType:yt,externalForwardedProps:b,ownerState:m});return n.jsxs(y,{...D,children:[n.jsx(B,{...P,children:p}),c&&n.jsx(F,{...k,children:c})]})}),wt=e=>{const{absolute:t,children:o,classes:r,flexItem:p,light:h,orientation:c,textAlign:a,variant:f}=e;return re({root:["root",t&&"absolute",f,h&&"light",c==="vertical"&&"vertical",p&&"flexItem",o&&"withChildren",o&&c==="vertical"&&"withChildrenVertical",a==="right"&&c!=="vertical"&&"textAlignRight",a==="left"&&c!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",c==="vertical"&&"wrapperVertical"]},Xe,r)},St=$("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,o.absolute&&t.absolute,t[o.variant],o.light&&t.light,o.orientation==="vertical"&&t.vertical,o.flexItem&&t.flexItem,o.children&&t.withChildren,o.children&&o.orientation==="vertical"&&t.withChildrenVertical,o.textAlign==="right"&&o.orientation!=="vertical"&&t.textAlignRight,o.textAlign==="left"&&o.orientation!=="vertical"&&t.textAlignLeft]}})(U(({theme:e})=>({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:Ye(e.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:e.spacing(1),marginBottom:e.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:({ownerState:t})=>!!t.children,style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:({ownerState:t})=>t.children&&t.orientation!=="vertical",style:{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`,borderTopStyle:"inherit"}}},{props:({ownerState:t})=>t.orientation==="vertical"&&t.children,style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`,borderLeftStyle:"inherit"}}},{props:({ownerState:t})=>t.textAlign==="right"&&t.orientation!=="vertical",style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:({ownerState:t})=>t.textAlign==="left"&&t.orientation!=="vertical",style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}))),Ct=$("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.wrapper,o.orientation==="vertical"&&t.wrapperVertical]}})(U(({theme:e})=>({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`,whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`}}]}))),Ce=g.forwardRef(function(t,o){const r=ie({props:t,name:"MuiDivider"}),{absolute:p=!1,children:h,className:c,orientation:a="horizontal",component:f=h||a==="vertical"?"div":"hr",flexItem:w=!1,light:u=!1,role:i=f!=="hr"?"separator":void 0,textAlign:d="center",variant:S="fullWidth",...R}=r,z={...r,absolute:p,component:f,flexItem:w,light:u,orientation:a,role:i,textAlign:d,variant:S},A=wt(z);return n.jsx(St,{as:f,className:X(A.root,c),role:i,ref:o,ownerState:z,"aria-orientation":i==="separator"&&(f!=="hr"||a==="vertical")?a:void 0,...R,children:h?n.jsx(Ct,{className:A.wrapper,ownerState:z,children:h}):null})});Ce&&(Ce.muiSkipListHighlight=!0);const Rt={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},At=Re(n.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})),jt=Re(n.jsx("path",{d:"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z"}));function Pt(e){return de("MuiRating",e)}const ce=pe("MuiRating",["root","sizeSmall","sizeMedium","sizeLarge","readOnly","disabled","focusVisible","visuallyHidden","pristine","label","labelEmptyValueActive","icon","iconEmpty","iconFilled","iconHover","iconFocus","iconActive","decimal"]);function Ft(e){const t=e.toString().split(".")[1];return t?t.length:0}function we(e,t){if(e==null)return e;const o=Math.round(e/t)*t;return Number(o.toFixed(Ft(t)))}const Mt=e=>{const{classes:t,size:o,readOnly:r,disabled:p,emptyValueFocused:h,focusVisible:c}=e,a={root:["root",`size${ze(o)}`,p&&"disabled",c&&"focusVisible",r&&"readOnly"],label:["label","pristine"],labelEmptyValue:[h&&"labelEmptyValueActive"],icon:["icon"],iconEmpty:["iconEmpty"],iconFilled:["iconFilled"],iconHover:["iconHover"],iconFocus:["iconFocus"],iconActive:["iconActive"],decimal:["decimal"],visuallyHidden:["visuallyHidden"]};return re(a,Pt,t)},Et=$("span",{name:"MuiRating",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{[`& .${ce.visuallyHidden}`]:t.visuallyHidden},t.root,t[`size${ze(o.size)}`],o.readOnly&&t.readOnly]}})(U(({theme:e})=>({display:"inline-flex",position:"relative",fontSize:e.typography.pxToRem(24),color:"#faaf00",cursor:"pointer",textAlign:"left",width:"min-content",WebkitTapHighlightColor:"transparent",[`&.${ce.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${ce.focusVisible} .${ce.iconActive}`]:{outline:"1px solid #999"},[`& .${ce.visuallyHidden}`]:Rt,variants:[{props:{size:"small"},style:{fontSize:e.typography.pxToRem(18)}},{props:{size:"large"},style:{fontSize:e.typography.pxToRem(30)}},{props:({ownerState:t})=>t.readOnly,style:{pointerEvents:"none"}}]}))),Le=$("label",{name:"MuiRating",slot:"Label",overridesResolver:({ownerState:e},t)=>[t.label,e.emptyValueFocused&&t.labelEmptyValueActive]})({cursor:"inherit",variants:[{props:({ownerState:e})=>e.emptyValueFocused,style:{top:0,bottom:0,position:"absolute",outline:"1px solid #999",width:"100%"}}]}),Tt=$("span",{name:"MuiRating",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.icon,o.iconEmpty&&t.iconEmpty,o.iconFilled&&t.iconFilled,o.iconHover&&t.iconHover,o.iconFocus&&t.iconFocus,o.iconActive&&t.iconActive]}})(U(({theme:e})=>({display:"flex",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest}),pointerEvents:"none",variants:[{props:({ownerState:t})=>t.iconActive,style:{transform:"scale(1.2)"}},{props:({ownerState:t})=>t.iconEmpty,style:{color:(e.vars||e).palette.action.disabled}}]}))),$t=$("span",{name:"MuiRating",slot:"Decimal",shouldForwardProp:e=>Ke(e)&&e!=="iconActive",overridesResolver:(e,t)=>{const{iconActive:o}=e;return[t.decimal,o&&t.iconActive]}})({position:"relative",variants:[{props:({iconActive:e})=>e,style:{transform:"scale(1.2)"}}]});function zt(e){const{value:t,...o}=e;return n.jsx("span",{...o})}function Me(e){const{classes:t,disabled:o,emptyIcon:r,focus:p,getLabelText:h,highlightSelectedOnly:c,hover:a,icon:f,IconContainerComponent:w,isActive:u,itemValue:i,labelProps:d,name:S,onBlur:R,onChange:z,onClick:A,onFocus:m,readOnly:j,ownerState:b,ratingValue:y,ratingValueRounded:D,slots:B={},slotProps:P={}}=e,F=c?i===y:i<=y,k=i<=a,x=i<=p,M=i===D,V=`${S}-${$e()}`,H={slots:B,slotProps:P},[L,G]=O("icon",{elementType:Tt,className:X(t.icon,F?t.iconFilled:t.iconEmpty,k&&t.iconHover,x&&t.iconFocus,u&&t.iconActive),externalForwardedProps:H,ownerState:{...b,iconEmpty:!F,iconFilled:F,iconHover:k,iconFocus:x,iconActive:u},additionalProps:{value:i},internalForwardedProps:{as:w}}),[E,T]=O("label",{elementType:Le,externalForwardedProps:H,ownerState:{...b,emptyValueFocused:void 0},additionalProps:{style:d==null?void 0:d.style,htmlFor:V}}),I=n.jsx(L,{...G,children:r&&!F?r:f});return j?n.jsx("span",{...d,children:I}):n.jsxs(g.Fragment,{children:[n.jsxs(E,{...T,children:[I,n.jsx("span",{className:t.visuallyHidden,children:h(i)})]}),n.jsx("input",{className:t.visuallyHidden,onFocus:m,onBlur:R,onChange:z,onClick:A,disabled:o,value:i,id:V,type:"radio",name:S,checked:M})]})}const Vt=n.jsx(At,{fontSize:"inherit"}),Lt=n.jsx(jt,{fontSize:"inherit"});function It(e){return`${e||"0"} Star${e!==1?"s":""}`}const Dt=g.forwardRef(function(t,o){const r=ie({name:"MuiRating",props:t}),{component:p="span",className:h,defaultValue:c=null,disabled:a=!1,emptyIcon:f=Lt,emptyLabelText:w="Empty",getLabelText:u=It,highlightSelectedOnly:i=!1,icon:d=Vt,IconContainerComponent:S=zt,max:R=5,name:z,onChange:A,onChangeActive:m,onMouseLeave:j,onMouseMove:b,precision:y=1,readOnly:D=!1,size:B="medium",value:P,slots:F={},slotProps:k={},...x}=r,M=$e(z),[V,H]=Te({controlled:P,default:c,name:"Rating"}),L=we(V,y),G=Je(),[{hover:E,focus:T},I]=g.useState({hover:-1,focus:-1});let J=L;E!==-1&&(J=E),T!==-1&&(J=T);const[fe,se]=g.useState(!1),ue=g.useRef(),me=Ee(ue,o),xe=l=>{b&&b(l);const v=ue.current,{right:C,left:he,width:te}=v.getBoundingClientRect();let oe;G?oe=(C-l.clientX)/te:oe=(l.clientX-he)/te;let Y=we(R*oe+y/2,y);Y=_e(Y,y,R),I(Z=>Z.hover===Y&&Z.focus===Y?Z:{hover:Y,focus:Y}),se(!1),m&&E!==Y&&m(l,Y)},ve=l=>{j&&j(l);const v=-1;I({hover:v,focus:v}),m&&E!==v&&m(l,v)},s=l=>{let v=l.target.value===""?null:parseFloat(l.target.value);E!==-1&&(v=E),H(v),A&&A(l,v)},N=l=>{l.clientX===0&&l.clientY===0||(I({hover:-1,focus:-1}),H(null),A&&parseFloat(l.target.value)===L&&A(l,null))},W=l=>{Pe(l.target)&&se(!0);const v=parseFloat(l.target.value);I(C=>({hover:C.hover,focus:v}))},Q=l=>{if(E!==-1)return;Pe(l.target)||se(!1);const v=-1;I(C=>({hover:C.hover,focus:v}))},[ee,ae]=g.useState(!1),le={...r,component:p,defaultValue:c,disabled:a,emptyIcon:f,emptyLabelText:w,emptyValueFocused:ee,focusVisible:fe,getLabelText:u,icon:d,IconContainerComponent:S,max:R,precision:y,readOnly:D,size:B},K=Mt(le),ye={slots:F,slotProps:k},[Ie,De]=O("root",{ref:me,className:X(K.root,h),elementType:Et,externalForwardedProps:{...ye,...x,component:p},getSlotProps:l=>({...l,onMouseMove:v=>{var C;xe(v),(C=l.onMouseMove)==null||C.call(l,v)},onMouseLeave:v=>{var C;ve(v),(C=l.onMouseLeave)==null||C.call(l,v)}}),ownerState:le,additionalProps:{role:D?"img":null,"aria-label":D?u(J):null}}),[He,Ne]=O("label",{className:X(K.label,K.labelEmptyValue),elementType:Le,externalForwardedProps:ye,ownerState:le}),[We,Ae]=O("decimal",{className:K.decimal,elementType:$t,externalForwardedProps:ye,ownerState:le});return n.jsxs(Ie,{...De,children:[Array.from(new Array(R)).map((l,v)=>{const C=v+1,he={classes:K,disabled:a,emptyIcon:f,focus:T,getLabelText:u,highlightSelectedOnly:i,hover:E,icon:d,IconContainerComponent:S,name:M,onBlur:Q,onChange:s,onClick:N,onFocus:W,ratingValue:J,ratingValueRounded:L,readOnly:D,ownerState:le,slots:F,slotProps:k},te=C===Math.ceil(J)&&(E!==-1||T!==-1);if(y<1){const oe=Array.from(new Array(1/y));return g.createElement(We,{...Ae,key:C,className:X(Ae.className,te&&K.iconActive),iconActive:te},oe.map((Y,Z)=>{const be=we(C-1+(Z+1)*y,y);return n.jsx(Me,{...he,isActive:!1,itemValue:be,labelProps:{style:oe.length-1===Z?{}:{width:be===J?`${(Z+1)*y*100}%`:"0%",overflow:"hidden",position:"absolute"}}},be)}))}return n.jsx(Me,{...he,isActive:te,itemValue:C},C)}),!D&&!a&&n.jsxs(He,{...Ne,children:[n.jsx("input",{className:K.visuallyHidden,value:"",id:`${M}-empty`,type:"radio",name:M,checked:L==null,onFocus:()=>ae(!0),onBlur:()=>ae(!1),onChange:s}),n.jsx("span",{className:K.visuallyHidden,children:w})]})]})}),Ht=Re(n.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"})),Nt=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long"}),Wt=e=>e.reduce((t,o)=>{const r=o.finishedDate?o.finishedDate.slice(0,7):"unknown";return t[r]||(t[r]=[]),t[r].push(o),t},{}),Bt=e=>Object.entries(e).map(([t,o])=>({month:t,count:o.length})),Ot=()=>{const{token:e,isAuthenticated:t}=Qe(),[o,r]=g.useState([]),[p,h]=g.useState(!1),[c,a]=g.useState(null);g.useEffect(()=>{(async()=>{if(!e){a("You must be logged in to view reading history.");return}h(!0),a(null);try{const i=await fetch("https://bookbrust-server.onrender.com/api/history",{method:"GET",headers:{Authorization:`Bearer ${e}`,"Content-Type":"application/json"}});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const d=await i.json();r(d)}catch(i){a(i.message||"Failed to load reading history")}finally{h(!1)}})()},[e]);const f=Wt(o),w=Bt(f);return t?n.jsxs(Fe,{sx:{py:8},maxWidth:"md",children:[n.jsx(q,{variant:"h3",fontWeight:700,gutterBottom:!0,children:"Reading Timeline"}),n.jsxs(_,{mb:4,children:[n.jsx(q,{variant:"h6",gutterBottom:!0,children:"Monthly Reading Habit"}),n.jsxs(_,{display:"flex",gap:1,flexWrap:"wrap",children:[w.length===0&&n.jsx(q,{color:"text.secondary",children:"No finished books yet."}),w.map(({month:u,count:i})=>n.jsx(_,{sx:{width:40,height:i*10+10,backgroundColor:"#1976d2",borderRadius:1,color:"white",textAlign:"center",fontSize:"0.75rem",cursor:"default"},title:`${u}: ${i} book${i>1?"s":""} finished`,children:i},u))]})]}),n.jsx(Ce,{}),p?n.jsx(_,{display:"flex",justifyContent:"center",py:5,children:n.jsx(Ze,{})}):c?n.jsx(q,{color:"error",mt:3,children:c}):Object.entries(f).sort((u,i)=>u[0]>i[0]?-1:1).map(([u,i])=>n.jsxs(_,{mt:4,children:[n.jsx(q,{variant:"h5",gutterBottom:!0,children:Nt(u+"-01")}),i.map(d=>{var S;return n.jsxs(dt,{sx:{mb:2},children:[n.jsx(bt,{expandIcon:n.jsx(Ht,{}),children:n.jsxs(_,{display:"flex",alignItems:"center",gap:2,children:[n.jsx(et,{variant:"rounded",src:d.thumbnail,alt:d.title,sx:{width:56,height:80}}),n.jsxs(_,{children:[n.jsx(q,{variant:"subtitle1",fontWeight:600,children:d.title}),n.jsx(q,{variant:"body2",color:"text.secondary",children:(S=d.authors)==null?void 0:S.join(", ")}),n.jsxs(_,{display:"flex",alignItems:"center",gap:1,mt:.5,children:[n.jsx(Dt,{value:d.rating||0,readOnly:!0,size:"small"}),n.jsxs(q,{variant:"caption",color:"text.secondary",children:["Finished: ",new Date(d.finishedDate).toLocaleDateString()]})]})]})]})}),n.jsx(gt,{children:n.jsx(q,{variant:"body2",sx:{whiteSpace:"pre-line"},children:d.notes||"No review or notes."})})]},d.id)})]},u))]}):n.jsx(Fe,{sx:{py:8},children:n.jsx(q,{variant:"h5",align:"center",color:"text.secondary",children:"Please login to view your Timeline."})})};export{Ot as default};
